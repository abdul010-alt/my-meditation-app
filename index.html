<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="description" content="Mindful Moments - A peaceful meditation app for daily mindfulness practice">
    <meta name="keywords" content="meditation, mindfulness, relaxation, timer, wellness">
    <meta name="author" content="Mindful Moments">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Mindful Moments">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/icons/apple-touch-icon.png">
    <link rel="manifest" href="data:application/manifest+json;base64,eyJcbiAgXCJuYW1lXCI6IFwiTWluZGZ1bCBNb21lbnRzIC0gTWVkaXRhdGlvbiBBcHBcIixcbiAgXCJzaG9ydF9uYW1lXCI6IFwiTWluZGZ1bCBNb21lbnRzXCIsXG4gIFwiZGVzY3JpcHRpb25cIjogXCJBIHBlYWNlZnVsIG1lZGl0YXRpb24gYXBwIGZvciBkYWlseSBtaW5kZnVsbmVzcyBwcmFjdGljZSB3aXRoIHRpbWVyLCBhbWJpZW50IHNvdW5kcywgYW5kIG1vdGl2YXRpb25hbCBxdW90ZXNcIixcbiAgXCJzdGFydF91cmxcIjogXCIvXCIsXG4gIFwiZGlzcGxheVwiOiBcInN0YW5kYWxvbmVcIixcbiAgXCJvcmllbnRhdGlvblwiOiBcInBvcnRyYWl0XCIsXG4gIFwidGhlbWVfY29sb3JcIjogXCIjNjM2NmYxXCIsXG4gIFwiYmFja2dyb3VuZF9jb2xvclwiOiBcIiNmMGY5ZmZcIixcbiAgXCJzY29wZVwiOiBcIi9cIixcbiAgXCJsYW5nXCI6IFwiZW5cIixcbiAgXCJkaXJcIjogXCJsdHJcIixcbiAgXCJjYXRlZ29yaWVzXCI6IFtcImhlYWx0aFwiLCBcImxpZmVzdHlsZVwiLCBcIndlbGxuZXNzXCJdLFxuICBcInNjcmVlbnNob3RzXCI6IFtcbiAgICB7XG4gICAgICBcInNyY1wiOiBcImFzc2V0cy9pY29ucy9zY3JlZW5zaG90LW1vYmlsZS5wbmdcIixcbiAgICAgIFwic2l6ZXNcIjogXCIzOTB4ODQ0XCIsXG4gICAgICBcInR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiAgICAgIFwiZm9ybV9mYWN0b3JcIjogXCJuYXJyb3dcIixcbiAgICAgIFwibGFiZWxcIjogXCJNb2JpbGUgbWVkaXRhdGlvbiB0aW1lciB2aWV3XCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL3NjcmVlbnNob3QtZGVza3RvcC5wbmdcIixcbiAgICAgIFwic2l6ZXNcIjogXCIxMjgweDcyMFwiLFxuICAgICAgXCJ0eXBlXCI6IFwiaW1hZ2UvcG5nXCIsXG4gICAgICBcImZvcm1fZmFjdG9yXCI6IFwid2lkZVwiLFxuICAgICAgXCJsYWJlbFwiOiBcIkRlc2t0b3AgbWVkaXRhdGlvbiB0aW1lciB2aWV3XCJcbiAgICB9XG4gIF0sXG4gIFwiaWNvbnNcIjogW1xuICAgIHtcbiAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL2ljb24tNzJ4NzIucG5nXCIsXG4gICAgICBcInNpemVzXCI6IFwiNzJ4NzJcIixcbiAgICAgIFwidHlwZVwiOiBcImltYWdlL3BuZ1wiLFxuICAgICAgXCJwdXJwb3NlXCI6IFwiYW55XCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL2ljb24tOTZ4OTYucG5nXCIsXG4gICAgICBcInNpemVzXCI6IFwiOTZ4OTZcIixcbiAgICAgIFwidHlwZVwiOiBcImltYWdlL3BuZ1wiLFxuICAgICAgXCJwdXJwb3NlXCI6IFwiYW55XCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL2ljb24tMTI4eDEyOC5wbmdcIixcbiAgICAgIFwic2l6ZXNcIjogXCIxMjh4MTI4XCIsXG4gICAgICBcInR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiAgICAgIFwicHVycG9zZVwiOiBcImFueVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInNyY1wiOiBcImFzc2V0cy9pY29ucy9pY29uLTE0NHgxNDQucG5nXCIsXG4gICAgICBcInNpemVzXCI6IFwiMTQ0eDE0NFwiLFxuICAgICAgXCJ0eXBlXCI6IFwiaW1hZ2UvcG5nXCIsXG4gICAgICBcInB1cnBvc2VcIjogXCJhbnlcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJzcmNcIjogXCJhc3NldHMvaWNvbnMvaWNvbi0xNTJ4MTUyLnBuZ1wiLFxuICAgICAgXCJzaXplc1wiOiBcIjE1MngxNTJcIixcbiAgICAgIFwidHlwZVwiOiBcImltYWdlL3BuZ1wiLFxuICAgICAgXCJwdXJwb3NlXCI6IFwiYW55XCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL2ljb24tMTkyeDE5Mi5wbmdcIixcbiAgICAgIFwic2l6ZXNcIjogXCIxOTJ4MTkyXCIsXG4gICAgICBcInR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiAgICAgIFwicHVycG9zZVwiOiBcImFueVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcInNyY1wiOiBcImFzc2V0cy9pY29ucy9pY29uLTM4NHgzODQucG5nXCIsXG4gICAgICBcInNpemVzXCI6IFwiMzg0eDM4NFwiLFxuICAgICAgXCJ0eXBlXCI6IFwiaW1hZ2UvcG5nXCIsXG4gICAgICBcInB1cnBvc2VcIjogXCJhbnlcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJzcmNcIjogXCJhc3NldHMvaWNvbnMvaWNvbi01MTJ4NTEyLnBuZ1wiLFxuICAgICAgXCJzaXplc1wiOiBcIjUxMng1MTJcIixcbiAgICAgIFwidHlwZVwiOiBcImltYWdlL3BuZ1wiLFxuICAgICAgXCJwdXJwb3NlXCI6IFwiYW55XCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL21hc2thYmxlLWljb24tMTkyeDE5Mi5wbmdcIixcbiAgICAgIFwic2l6ZXNcIjogXCIxOTJ4MTkyXCIsXG4gICAgICBcInR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiAgICAgIFwicHVycG9zZVwiOiBcIm1hc2thYmxlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL21hc2thYmxlLWljb24tNTEyeDUxMi5wbmdcIixcbiAgICAgIFwic2l6ZXNcIjogXCI1MTJ4NTEyXCIsXG4gICAgICBcInR5cGVcIjogXCJpbWFnZS9wbmdcIixcbiAgICAgIFwicHVycG9zZVwiOiBcIm1hc2thYmxlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL2FwcGxlLXRvdWNoLWljb24ucG5nXCIsXG4gICAgICBcInNpemVzXCI6IFwiMTgweDE4MFwiLFxuICAgICAgXCJ0eXBlXCI6IFwiaW1hZ2UvcG5nXCIsXG4gICAgICBcInB1cnBvc2VcIjogXCJhbnlcIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJzcmNcIjogXCJhc3NldHMvaWNvbnMvZmF2aWNvbi0zMngzMi5wbmdcIixcbiAgICAgIFwic2l6ZXNcIjogXCIzMngzMlwifSxcbiAgICB7XG4gICAgICBcInNyY1wiOiBcImFzc2V0cy9pY29ucy9mYXZpY29uLTE2eDE2LnBuZ1wiLFxuICAgICAgXCJzaXplc1wiOiBcIjE2eDE2XCJcbiAgICB9XG4gIF0sXG4gIFwic2hvcnRjdXRzXCI6IFtcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJTdGFydCA1LW1pbnV0ZSBtZWRpdGF0aW9uXCIsXG4gICAgICBcInNob3J0X25hbWVcIjogXCI1bWluXCIsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6IFwiUXVpY2sgNS1taW51dGUgbWVkaXRhdGlvbiBzZXNzaW9uXCIsXG4gICAgICBcInVybFwiOiBcIi8_cHJlc2V0PTVcIixcbiAgICAgIFwiaWNvbnNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJzcmNcIjogXCJhc3NldHMvaWNvbnMvc2hvcnRjdXQtNW1pbi5wbmdcIixcbiAgICAgICAgICBcInNpemVzXCI6IFwiOTZ4OTZcIixcbiAgICAgICAgICBcInR5cGVcIjogXCJpbWFnZS9wbmdcIlxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJTdGFydCAxMC1taW51dGUgbWVkaXRhdGlvblwiLFxuICAgICAgXCJzaG9ydF9uYW1lXCI6IFwiMTBtaW5cIixcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJTdGFuZGFyZCAxMC1taW51dGUgbWVkaXRhdGlvbiBzZXNzaW9uXCIsXG4gICAgICBcInVybFwiOiBcIi8_cHJlc2V0PTEwXCIsXG4gICAgICBcImljb25zXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwic3JjXCI6IFwiYXNzZXRzL2ljb25zL3Nob3J0Y3V0LTEwbWluLnBuZ1wiLFxuICAgICAgICAgIFwic2l6ZXNcIjogXCI5Nng5NlwiLFxuICAgICAgICAgIFwidHlwZVwiOiBcImltYWdlL3BuZ1wiXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9XG4gIF0sXG4gIFwicHJlZmVyX3JlbGF0ZWRfYXBwbGljYXRpb25zXCI6IGZhbHNlLFxuICBcImVkZ2Vfc2lkZV9wYW5lbFwiOiB7XG4gICAgXCJwcmVmZXJyZWRfd2lkdGhcIjogNDAwXG4gIH0sXG4gIFwibGF1bmNoX2hhbmRsZXJcIjoge1xuICAgIFwiY2xpZW50X21vZGVcIjogXCJmb2N1cy1leGlzdGluZ1wiXG4gIH1cbn0=">
    
    <title>Mindful Moments - Meditation App</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        secondary: {
                            50: '#fdf4ff',
                            100: '#fae8ff',
                            200: '#f5d0fe',
                            300: '#f0abfc',
                            400: '#e879f9',
                            500: '#d946ef',
                            600: '#c026d3',
                            700: '#a21caf',
                            800: '#86198f',
                            900: '#701a75',
                        },
                        calm: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'scale-in': 'scaleIn 0.3s ease-out',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        scaleIn: {
                            '0%': { transform: 'scale(0.95)' },
                            '100%': { transform: 'scale(1)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <style>
/* Custom Styles for Meditation App */

/* Disable text selection and context menu */
* {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
}

/* Disable zoom on mobile */
input, select, textarea {
    font-size: 16px !important;
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
}

/* Disable right-click context menu */
body {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* Smooth animations */
.timer-circle {
    transition: stroke-dashoffset 1s linear;
}

/* Pulse animation for active timer */
.timer-active {
    animation: pulse-glow 2s ease-in-out infinite alternate;
}

@keyframes pulse-glow {
    from {
        box-shadow: 0 0 20px rgba(99, 102, 241, 0.3);
    }
    to {
        box-shadow: 0 0 30px rgba(99, 102, 241, 0.6);
    }
}

/* Button hover effects */
.btn-hover {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.btn-hover:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

/* Active preset button */
.time-preset.active {
    background: linear-gradient(135deg, #6366f1, #d946ef);
    color: white;
    border-color: transparent;
}

/* Modal backdrop blur */
.modal-backdrop {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

/* Smooth fade transitions */
.fade-enter {
    opacity: 0;
    transform: translateY(10px);
}

.fade-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.fade-exit {
    opacity: 1;
    transform: translateY(0);
}

.fade-exit-active {
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: #f1f5f9;
}

::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

/* Prevent zoom on double tap */
* {
    touch-action: manipulation;
}

/* Hide number input spinners */
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input[type="number"] {
    -moz-appearance: textfield;
}

/* Focus styles for accessibility */
button:focus,
select:focus,
input:focus {
    outline: 2px solid #6366f1;
    outline-offset: 2px;
}

/* Smooth color transitions */
.color-transition {
    transition: color 0.3s ease, background-color 0.3s ease, border-color 0.3s ease;
}

/* Gradient text */
.gradient-text {
    background: linear-gradient(135deg, #6366f1, #d946ef);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Glass morphism effect */
.glass {
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.18);
}

/* Breathing animation for meditation state */
.breathing {
    animation: breathe 4s ease-in-out infinite;
}

@keyframes breathe {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.05);
    }
}

/* Ripple effect for buttons */
.ripple {
    position: relative;
    overflow: hidden;
}

.ripple::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.ripple:active::before {
    width: 300px;
    height: 300px;
}

/* Safe area for notched devices */
@supports (padding: max(0px)) {
    .safe-top {
        padding-top: max(1rem, env(safe-area-inset-top));
    }
    
    .safe-bottom {
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
    
    .safe-left {
        padding-left: max(1rem, env(safe-area-inset-left));
    }
    
    .safe-right {
        padding-right: max(1rem, env(safe-area-inset-right));
    }
}

    </style>
</head>
<body class="bg-gradient-to-br from-primary-50 via-white to-secondary-50 min-h-screen font-sans select-none overflow-x-hidden">
    <!-- App Container -->
    <div id="app" class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-white/80 backdrop-blur-sm border-b border-calm-200 px-4 py-3 sticky top-0 z-50">
            <div class="flex items-center justify-between max-w-md mx-auto">
                <div class="flex items-center space-x-2">
                    <div class="w-8 h-8 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center">
                        <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h1 class="text-lg font-semibold text-calm-800">Mindful Moments</h1>
                </div>
                <button id="settingsBtn" class="p-2 rounded-full hover:bg-calm-100 transition-colors">
                    <svg class="w-5 h-5 text-calm-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col items-center justify-center px-4 py-8">
            <div class="w-full max-w-md mx-auto space-y-8">
                
                <!-- Timer Circle -->
                <div class="relative flex items-center justify-center">
                    <div class="relative w-64 h-64 md:w-80 md:h-80">
                        <!-- Background Circle -->
                        <svg class="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" stroke="currentColor" stroke-width="2" fill="none" class="text-calm-200"/>
                            <circle id="progressCircle" cx="50" cy="50" r="45" stroke="currentColor" stroke-width="2" fill="none" 
                                    class="text-primary-500 transition-all duration-1000 ease-linear" 
                                    stroke-dasharray="283" stroke-dashoffset="283" stroke-linecap="round"/>
                        </svg>
                        
                        <!-- Timer Display -->
                        <div class="absolute inset-0 flex flex-col items-center justify-center">
                            <div id="timerDisplay" class="text-4xl md:text-5xl font-light text-calm-800 mb-2">05:00</div>
                            <div id="timerStatus" class="text-sm text-calm-500 uppercase tracking-wide">Ready to begin</div>
                        </div>
                    </div>
                </div>

                <!-- Control Buttons -->
                <div class="flex items-center justify-center space-x-4">
                    <button id="resetBtn" class="p-3 rounded-full bg-calm-100 hover:bg-calm-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        <svg class="w-6 h-6 text-calm-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                        </svg>
                    </button>
                    
                    <button id="playPauseBtn" class="relative w-16 h-16 bg-gradient-to-br from-primary-500 to-secondary-500 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 active:scale-95">
                        <svg id="playIcon" class="w-8 h-8 text-white ml-1" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path>
                        </svg>
                        <svg id="pauseIcon" class="w-8 h-8 text-white hidden" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                    
                    <button id="soundBtn" class="p-3 rounded-full bg-calm-100 hover:bg-calm-200 transition-colors">
                        <svg id="soundOnIcon" class="w-6 h-6 text-calm-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 14.142M6.343 6.343L4.93 4.93A1 1 0 003.515 6.343L6.343 9.17a8 8 0 000 5.66l-2.828 2.828a1 1 0 101.414 1.414l1.414-1.414a8 8 0 005.66 0l2.828 2.828a1 1 0 001.414-1.414L13.657 14.83a8 8 0 000-5.66z"></path>
                        </svg>
                        <svg id="soundOffIcon" class="w-6 h-6 text-calm-600 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" clip-rule="evenodd"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"></path>
                        </svg>
                    </button>
                </div>

                <!-- Time Presets -->
                <div class="grid grid-cols-4 gap-2">
                    <button class="time-preset px-3 py-2 text-sm font-medium text-calm-600 bg-white rounded-lg border border-calm-200 hover:bg-calm-50 transition-colors" data-time="300">5m</button>
                    <button class="time-preset px-3 py-2 text-sm font-medium text-calm-600 bg-white rounded-lg border border-calm-200 hover:bg-calm-50 transition-colors" data-time="600">10m</button>
                    <button class="time-preset px-3 py-2 text-sm font-medium text-calm-600 bg-white rounded-lg border border-calm-200 hover:bg-calm-50 transition-colors" data-time="900">15m</button>
                    <button class="time-preset px-3 py-2 text-sm font-medium text-calm-600 bg-white rounded-lg border border-calm-200 hover:bg-calm-50 transition-colors" data-time="1200">20m</button>
                </div>

                <!-- Sound Theme Selector -->
                <div class="bg-white rounded-xl p-4 border border-calm-200">
                    <label class="block text-sm font-medium text-calm-700 mb-2">Ambient Sounds</label>
                    <select id="soundTheme" class="w-full p-2 border border-calm-200 rounded-lg bg-white text-calm-700 focus:ring-2 focus:ring-primary-500 focus:border-transparent">
                        <option value="none">Silence</option>
                        <option value="rain">Gentle Rain</option>
                        <option value="ocean">Ocean Waves</option>
                        <option value="forest">Forest Sounds</option>
                        <option value="birds">Singing Birds</option>
                        <option value="wind">Soft Wind</option>
                    </select>
                </div>

                <!-- Motivational Quote -->
                <div class="bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-calm-200">
                    <div class="text-center">
                        <svg class="w-8 h-8 text-primary-400 mx-auto mb-3" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        <blockquote id="quote" class="text-calm-700 italic text-center mb-2">
                            "Peace comes from within. Do not seek it without."
                        </blockquote>
                        <cite id="quoteAuthor" class="text-sm text-calm-500">— Buddha</cite>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="text-center py-4 text-xs text-calm-500">
            <p>&copy; 2024 Mindful Moments. Find your inner peace.</p>
        </footer>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl p-6 w-full max-w-sm animate-scale-in">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-calm-800">Settings</h3>
                    <button id="closeSettings" class="p-1 rounded-full hover:bg-calm-100">
                        <svg class="w-5 h-5 text-calm-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-calm-700 mb-2">Notification Sound</label>
                        <div class="flex items-center space-x-3">
                            <input type="checkbox" id="notificationSound" class="rounded border-calm-300 text-primary-600 focus:ring-primary-500">
                            <span class="text-sm text-calm-600">Play sound when session ends</span>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-calm-700 mb-2">Vibration</label>
                        <div class="flex items-center space-x-3">
                            <input type="checkbox" id="vibration" class="rounded border-calm-300 text-primary-600 focus:ring-primary-500">
                            <span class="text-sm text-calm-600">Vibrate when session ends</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
// Meditation App JavaScript

class MeditationApp {
    constructor() {
        this.timer = null;
        this.isRunning = false;
        this.isPaused = false;
        this.currentTime = 300; // 5 minutes default
        this.totalTime = 300;
        this.soundEnabled = true;
        this.currentAudio = null;
        this.notificationSound = true;
        this.vibration = true;
        
        this.quotes = [
            { text: "Peace comes from within. Do not seek it without.", author: "Buddha" },
            { text: "The present moment is the only time over which we have dominion.", author: "Thích Nhất Hạnh" },
            { text: "Meditation is not evasion; it is a serene encounter with reality.", author: "Thích Nhất Hạnh" },
            { text: "Your calm mind is the ultimate weapon against your challenges.", author: "Bryant McGill" },
            { text: "In the midst of movement and chaos, keep stillness inside of you.", author: "Deepak Chopra" },
            { text: "Meditation is a way for nourishing and blossoming the divinity within you.", author: "Amit Ray" },
            { text: "The goal of meditation isn\'t to control your thoughts, it\'s to stop letting them control you.", author: "Anonymous" },
            { text: "Wherever you are, be there totally.", author: "Eckhart Tolle" },
            { text: "Meditation brings wisdom; lack of meditation leaves ignorance.", author: "Buddha" },
            { text: "The mind is everything. What you think you become.", author: "Buddha" },
            { text: "Quiet the mind, and the soul will speak.", author: "Ma Jaya Sati Bhagavati" },
            { text: "Meditation is the tongue of the soul and the language of our spirit.", author: "Jeremy Taylor" },
            { text: "In meditation, healing can happen. When the mind is calm, alert and totally contented, then it is like a laser beam - it is very powerful and healing can happen.", author: "Amit Ray" },
            { text: "Meditation is not about stopping thoughts, but recognizing that we are more than our thoughts and our feelings.", author: "Arianna Huffington" },
            { text: "The thing about meditation is: You become more and more you.", author: "David Lynch" }
        ];
        
        this.soundThemes = {
            none: null,
            rain: this.createAudioContext('rain'),
            ocean: this.createAudioContext('ocean'),
            forest: this.createAudioContext('forest'),
            birds: this.createAudioContext('birds'),
            wind: this.createAudioContext('wind')
        };
        
        this.init();
    }
    
    init() {
        this.bindEvents();
        this.updateDisplay();
        this.displayRandomQuote();
        this.loadSettings();
        this.disableContextMenu();
        this.preventZoom();
    }
    
    bindEvents() {
        // Timer controls
        document.getElementById('playPauseBtn').addEventListener('click', () => this.toggleTimer());
        document.getElementById('resetBtn').addEventListener('click', () => this.resetTimer());
        document.getElementById('soundBtn').addEventListener('click', () => this.toggleSound());
        
        // Time presets
        document.querySelectorAll('.time-preset').forEach(btn => {
            btn.addEventListener('click', (e) => this.setTimePreset(parseInt(e.target.dataset.time)));
        });
        
        // Sound theme selector
        document.getElementById('soundTheme').addEventListener('change', (e) => this.changeSoundTheme(e.target.value));
        
        // Settings modal
        document.getElementById('settingsBtn').addEventListener('click', () => this.openSettings());
        document.getElementById('closeSettings').addEventListener('click', () => this.closeSettings());
        document.getElementById('settingsModal').addEventListener('click', (e) => {
            if (e.target.id === 'settingsModal') this.closeSettings();
        });
        
        // Settings controls
        document.getElementById('notificationSound').addEventListener('change', (e) => {
            this.notificationSound = e.target.checked;
            this.saveSettings();
        });
        
        document.getElementById('vibration').addEventListener('change', (e) => {
            this.vibration = e.target.checked;
            this.saveSettings();
        });
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => this.handleKeyboard(e));
        
        // Prevent sleep during meditation
        document.addEventListener('visibilitychange', () => this.handleVisibilityChange());
    }
    
    createAudioContext(type) {
        // Create synthetic audio for different ambient sounds
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        return {
            context: audioContext,
            type: type,
            oscillators: [],
            gainNode: null
        };
    }
    
    playAmbientSound(type) {
        if (!this.soundEnabled || type === 'none') return;
        
        const audioData = this.soundThemes[type];
        if (!audioData) return;
        
        const { context } = audioData;
        
        // Create gain node for volume control
        const gainNode = context.createGain();
        gainNode.connect(context.destination);
        gainNode.gain.setValueAtTime(0.1, context.currentTime);
        
        // Create different sound patterns based on type
        switch (type) {
            case 'rain':
                this.createRainSound(context, gainNode);
                break;
            case 'ocean':
                this.createOceanSound(context, gainNode);
                break;
            case 'forest':
                this.createForestSound(context, gainNode);
                break;
            case 'birds':
                this.createBirdSound(context, gainNode);
                break;
            case 'wind':
                this.createWindSound(context, gainNode);
                break;
        }
        
        audioData.gainNode = gainNode;
    }
    
    createRainSound(context, gainNode) {
        // White noise for rain effect
        const bufferSize = 4096;
        const buffer = context.createBuffer(1, bufferSize, context.sampleRate);
        const output = buffer.getChannelData(0);
        
        for (let i = 0; i < bufferSize; i++) {
            output[i] = Math.random() * 2 - 1;
        }
        
        const whiteNoise = context.createBufferSource();
        whiteNoise.buffer = buffer;
        whiteNoise.loop = true;
        
        const filter = context.createBiquadFilter();
        filter.type = 'lowpass';
        filter.frequency.setValueAtTime(800, context.currentTime);
        
        whiteNoise.connect(filter);
        filter.connect(gainNode);
        whiteNoise.start();
        
        this.currentAudio = { source: whiteNoise, context };
    }
    
    createOceanSound(context, gainNode) {
        // Low frequency oscillation for ocean waves
        const oscillator = context.createOscillator();
        oscillator.type = 'sine';
        oscillator.frequency.setValueAtTime(0.1, context.currentTime);
        
        const lfo = context.createOscillator();
        lfo.type = 'sine';
        lfo.frequency.setValueAtTime(0.05, context.currentTime);
        
        const lfoGain = context.createGain();
        lfoGain.gain.setValueAtTime(200, context.currentTime);
        
        lfo.connect(lfoGain);
        lfoGain.connect(oscillator.frequency);
        
        oscillator.connect(gainNode);
        oscillator.start();
        lfo.start();
        
        this.currentAudio = { source: oscillator, context };
    }
    
    createForestSound(context, gainNode) {
        // Multiple low-frequency tones for forest ambience
        const frequencies = [80, 120, 160, 200];
        const oscillators = [];
        
        frequencies.forEach(freq => {
            const osc = context.createOscillator();
            osc.type = 'triangle';
            osc.frequency.setValueAtTime(freq + Math.random() * 20, context.currentTime);
            
            const oscGain = context.createGain();
            oscGain.gain.setValueAtTime(0.02, context.currentTime);
            
            osc.connect(oscGain);
            oscGain.connect(gainNode);
            osc.start();
            
            oscillators.push(osc);
        });
        
        this.currentAudio = { source: oscillators[0], context };
    }
    
    createBirdSound(context, gainNode) {
        // Higher frequency tones for bird sounds
        const createBirdChirp = () => {
            const osc = context.createOscillator();
            osc.type = 'sine';
            
            const freq = 800 + Math.random() * 1200;
            osc.frequency.setValueAtTime(freq, context.currentTime);
            osc.frequency.exponentialRampToValueAtTime(freq * 0.5, context.currentTime + 0.1);
            
            const envelope = context.createGain();
            envelope.gain.setValueAtTime(0, context.currentTime);
            envelope.gain.linearRampToValueAtTime(0.05, context.currentTime + 0.01);
            envelope.gain.exponentialRampToValueAtTime(0.001, context.currentTime + 0.1);
            
            osc.connect(envelope);
            envelope.connect(gainNode);
            osc.start();
            osc.stop(context.currentTime + 0.1);
            
            // Schedule next chirp
            setTimeout(createBirdChirp, Math.random() * 3000 + 2000);
        };
        
        createBirdChirp();
        this.currentAudio = { context };
    }
    
    createWindSound(context, gainNode) {
        // Filtered white noise for wind
        const bufferSize = 4096;
        const buffer = context.createBuffer(1, bufferSize, context.sampleRate);
        const output = buffer.getChannelData(0);
        
        for (let i = 0; i < bufferSize; i++) {
            output[i] = Math.random() * 2 - 1;
        }
        
        const whiteNoise = context.createBufferSource();
        whiteNoise.buffer = buffer;
        whiteNoise.loop = true;
        
        const filter = context.createBiquadFilter();
        filter.type = 'bandpass';
        filter.frequency.setValueAtTime(400, context.currentTime);
        filter.Q.setValueAtTime(0.5, context.currentTime);
        
        whiteNoise.connect(filter);
        filter.connect(gainNode);
        whiteNoise.start();
        
        this.currentAudio = { source: whiteNoise, context };
    }
    
    stopAmbientSound() {
        if (this.currentAudio) {
            try {
                if (this.currentAudio.source && this.currentAudio.source.stop) {
                    this.currentAudio.source.stop();
                }
                if (this.currentAudio.context && this.currentAudio.context.close) {
                    this.currentAudio.context.close();
                }
            } catch (e) {
                console.log('Audio cleanup error:', e);
            }
            this.currentAudio = null;
        }
    }
    
    toggleTimer() {
        if (this.isRunning) {
            this.pauseTimer();
        } else {
            this.startTimer();
        }
    }
    
    startTimer() {
        this.isRunning = true;
        this.isPaused = false;
        
        // Start ambient sound
        const soundTheme = document.getElementById('soundTheme').value;
        this.playAmbientSound(soundTheme);
        
        // Update UI
        this.updatePlayPauseButton();
        this.updateTimerStatus('Meditating...');
        
        // Add breathing animation
        document.querySelector('.timer-circle')?.classList.add('breathing');
        
        // Start countdown
        this.timer = setInterval(() => {
            this.currentTime--;
            this.updateDisplay();
            this.updateProgress();
            
            if (this.currentTime <= 0) {
                this.completeSession();
            }
        }, 1000);
    }
    
    pauseTimer() {
        this.isRunning = false;
        this.isPaused = true;
        
        clearInterval(this.timer);
        this.stopAmbientSound();
        
        this.updatePlayPauseButton();
        this.updateTimerStatus('Paused');
        
        // Remove breathing animation
        document.querySelector('.timer-circle')?.classList.remove('breathing');
    }
    
    resetTimer() {
        this.isRunning = false;
        this.isPaused = false;
        
        clearInterval(this.timer);
        this.stopAmbientSound();
        
        this.currentTime = this.totalTime;
        this.updateDisplay();
        this.updateProgress();
        this.updatePlayPauseButton();
        this.updateTimerStatus('Ready to begin');
        
        // Remove breathing animation
        document.querySelector('.timer-circle')?.classList.remove('breathing');
        
        // Update active preset
        this.updateActivePreset();
    }
    
    completeSession() {
        this.isRunning = false;
        this.isPaused = false;
        
        clearInterval(this.timer);
        this.stopAmbientSound();
        
        this.updatePlayPauseButton();
        this.updateTimerStatus('Session complete!');
        
        // Remove breathing animation
        document.querySelector('.timer-circle')?.classList.remove('breathing');
        
        // Play completion notification
        this.playCompletionNotification();
        
        // Show completion message
        this.showCompletionMessage();
        
        // Reset for next session
        setTimeout(() => {
            this.resetTimer();
            this.displayRandomQuote();
        }, 3000);
    }
    
    playCompletionNotification() {
        if (!this.notificationSound) return;
        
        try {
            const context = new (window.AudioContext || window.webkitAudioContext)();
            const oscillator = context.createOscillator();
            const gainNode = context.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(context.destination);
            
            oscillator.frequency.setValueAtTime(800, context.currentTime);
            oscillator.frequency.setValueAtTime(600, context.currentTime + 0.1);
            oscillator.frequency.setValueAtTime(800, context.currentTime + 0.2);
            
            gainNode.gain.setValueAtTime(0, context.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.1, context.currentTime + 0.01);
            gainNode.gain.exponentialRampToValueAtTime(0.001, context.currentTime + 0.3);
            
            oscillator.start();
            oscillator.stop(context.currentTime + 0.3);
            
            // Vibration
            if (this.vibration && navigator.vibrate) {
                navigator.vibrate([200, 100, 200]);
            }
        } catch (e) {
            console.log('Notification sound error:', e);
        }
    }
    
    showCompletionMessage() {
        // Create and show a temporary completion message
        const message = document.createElement('div');
        message.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-xl p-6 shadow-2xl z-50 animate-scale-in';
        message.innerHTML = `
            <div class="text-center">
                <div class="w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                </div>
                <h3 class="text-lg font-semibold text-gray-800 mb-2">Session Complete!</h3>
                <p class="text-gray-600">Well done on completing your meditation session.</p>
            </div>
        `;
        
        document.body.appendChild(message);
        
        setTimeout(() => {
            message.remove();
        }, 3000);
    }
    
    setTimePreset(seconds) {
        if (this.isRunning) return;
        
        this.totalTime = seconds;
        this.currentTime = seconds;
        this.updateDisplay();
        this.updateProgress();
        this.updateActivePreset();
    }
    
    updateActivePreset() {
        document.querySelectorAll('.time-preset').forEach(btn => {
            btn.classList.remove('active');
            if (parseInt(btn.dataset.time) === this.totalTime) {
                btn.classList.add('active');
            }
        });
    }
    
    toggleSound() {
        this.soundEnabled = !this.soundEnabled;
        
        const soundOnIcon = document.getElementById('soundOnIcon');
        const soundOffIcon = document.getElementById('soundOffIcon');
        
        if (this.soundEnabled) {
            soundOnIcon.classList.remove('hidden');
            soundOffIcon.classList.add('hidden');
        } else {
            soundOnIcon.classList.add('hidden');
            soundOffIcon.classList.remove('hidden');
            this.stopAmbientSound();
        }
    }
    
    changeSoundTheme(theme) {
        if (this.isRunning) {
            this.stopAmbientSound();
            this.playAmbientSound(theme);
        }
    }
    
    updateDisplay() {
        const minutes = Math.floor(this.currentTime / 60);
        const seconds = this.currentTime % 60;
        const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        
        document.getElementById('timerDisplay').textContent = display;
    }
    
    updateProgress() {
        const progress = ((this.totalTime - this.currentTime) / this.totalTime) * 283;
        const circle = document.getElementById('progressCircle');
        circle.style.strokeDashoffset = 283 - progress;
    }
    
    updatePlayPauseButton() {
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        
        if (this.isRunning) {
            playIcon.classList.add('hidden');
            pauseIcon.classList.remove('hidden');
        } else {
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
        }
    }
    
    updateTimerStatus(status) {
        document.getElementById('timerStatus').textContent = status;
    }
    
    displayRandomQuote() {
        const randomQuote = this.quotes[Math.floor(Math.random() * this.quotes.length)];
        document.getElementById('quote').textContent = `"${randomQuote.text}"`;
        document.getElementById('quoteAuthor').textContent = `— ${randomQuote.author}`;
    }
    
    openSettings() {
        document.getElementById('settingsModal').classList.remove('hidden');
    }
    
    closeSettings() {
        document.getElementById('settingsModal').classList.add('hidden');
    }
    
    handleKeyboard(e) {
        switch (e.code) {
            case 'Space':
                e.preventDefault();
                this.toggleTimer();
                break;
            case 'KeyR':
                e.preventDefault();
                this.resetTimer();
                break;
            case 'KeyS':
                e.preventDefault();
                this.toggleSound();
                break;
            case 'Escape':
                this.closeSettings();
                break;
        }
    }
    
    handleVisibilityChange() {
        // Keep timer running even when tab is not visible
        if (document.hidden && this.isRunning) {
            // Timer continues in background
        }
    }
    
    saveSettings() {
        const settings = {
            notificationSound: this.notificationSound,
            vibration: this.vibration,
            soundEnabled: this.soundEnabled
        };
        localStorage.setItem('meditationAppSettings', JSON.stringify(settings));
    }
    
    loadSettings() {
        try {
            const settings = JSON.parse(localStorage.getItem('meditationAppSettings') || '{}');
            
            this.notificationSound = settings.notificationSound !== false;
            this.vibration = settings.vibration !== false;
            this.soundEnabled = settings.soundEnabled !== false;
            
            // Update UI
            document.getElementById('notificationSound').checked = this.notificationSound;
            document.getElementById('vibration').checked = this.vibration;
            
            if (!this.soundEnabled) {
                this.toggleSound();
            }
        } catch (e) {
            console.log('Settings load error:', e);
        }
    }
    
    disableContextMenu() {
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            return false;
        });
        
        // Disable drag
        document.addEventListener('dragstart', (e) => {
            e.preventDefault();
            return false;
        });
        
        // Disable selection
        document.addEventListener('selectstart', (e) => {
            if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                return false;
            }
        });
    }
    
    preventZoom() {
        // Prevent pinch zoom
        document.addEventListener('touchstart', (e) => {
            if (e.touches.length > 1) {
                e.preventDefault();
            }
        }, { passive: false });
        
        document.addEventListener('touchmove', (e) => {
            if (e.touches.length > 1) {
                e.preventDefault();
            }
        }, { passive: false });
        
        // Prevent double-tap zoom
        let lastTouchEnd = 0;
        document.addEventListener('touchend', (e) => {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    }
}

// Initialize app when DOM is loaded
window.addEventListener("load", () => {
    new MeditationApp();
});

// Handle app installation
let deferredPrompt;

window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    
    // Show install button or banner
    console.log('App can be installed');
});

window.addEventListener('appinstalled', () => {
    console.log('App was installed');
    deferredPrompt = null;
});

    </script>
</body>
</html>


